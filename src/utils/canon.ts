export const CANON_EPISODES_STRING =
  '1-7, 10-19, 21-32, 35-39, 43-46, 48, 50-53, 55, 57-59, 61, 63-64, 66-67, 72, 75-87, 95-97, 99, 104-105, 107-108, 112-121, 123, 126-128, 131-134, 136, 138, 143-149, 153, 156, 159-163, 167,171, 173,176-178, 183-185, 189, 191, 196, 198, 201, 210-212, 215, 217-219, 222-230, 232-233, 237-240, 249, 252-257, 259-261, 263, 265-284, 288-296, 298-301, 303-304, 306-312, 314-318, 320-321, 323-324, 326-328, 330-332, 334-335, 337-339, 342, 344-350, 353-361, 363, 366-367, 369, 371, 373-377, 379, 381, 384, 386-387, 389-412, 414, 418-419, 422-426, 428-439, 442, 444-447, 449-450, 461-462, 464-473, 475-489, 492-505, 507-509, 512-518, 526-535, 537-568, 570-580, 583-589, 591-599, 601-612, 615-622, 639-663, 665-681- 683-684, 687-690, 692-708, 712-721, 723-743, 745-750, 752-753, 756-780, 782, 784, 786-787, 790-793, 795-805, 807-811, 815, 817-823, 825, 827-842, 844, 846-847, 849-868, 870, 882-883, 885-886,  888-892, 897-905, 907-908, 910-914, 923-944, 946-949, 951-954, 956-961, 963-966, 969-995, 997-108, 1010-1020, 1022-1023, 1025-1030, 1032-1050, 1052-1063, 1065-1132, 1133-1168.';

export const NON_CANON_EPISODES_STRING =
  '8-9, 20, 33-34, 40-42, 47, 49, 54, 56, 60, 62, 65, 68-71, 73-74, 88-94, 98, 100-103, 106, 109, 111, 122, 124-125, 129-130, 135, 137, 139-142, 150-152, 154-155, 157-158, 164-166, 168-170, 172, 174-175, 179-182, 186-188, 190, 193-195, 197, 199-200, 202-209, 213-214, 216, 220-221, 231, 234-236, 241-248, 250-251, 258, 262, 264, 285-287, 297, 302, 305, 313,  319, 322, 325, 329, 333, 336, 340-341, 343, 351-352, 362, 364-365, 368,370, 372, 378, 380, 382-383, 385, 388, 412-413, 415-417, 420-421, 427, 440-441, 443, 448, 451, 458-460, 463, 474, 490-491,506, 510-511, 522-525, 536, 569, 581-582, 590, 600, 613-614, 623-638, 664, 682, 685-686, 691, 709-711, 722, 744, 751, 754-755, 781, 783, 785, 788-789, 794, 806, 812-814, 816, 824, 826, 843, 845, 848, 869, 880-881, 884, 887, 893-896, 906, 908, 915, 921-922, 945, 950, 955, 962, 967-968, 996, 1009, 1021, 1024, 1031, 1051, 1064.';

export const CENSORED_EPISODES = '18, 35, 38, 252';

export const parseEpisodes = (input: string) => {
  return input
    .split(',')
    .map((part) => part.trim())
    .filter(Boolean)
    .flatMap((part) => {
      const nums = part.split('-').map((n) => Number(n.trim()));

      // nÃºmero simple
      if (nums.length === 1 && Number.isFinite(nums[0])) {
        return nums;
      }

      // rango (tomamos solo los dos primeros)
      if (nums.length >= 2 && nums.every(Number.isFinite)) {
        let [start, end] = nums;

        // rango invertido
        if (start > end) [start, end] = [end, start];

        return Array.from({ length: end - start + 1 }, (_, i) => start + i);
      }

      return [];
    });
};
